# v0.4.4 - エラーログの可視性改善

## 概要

`ATACError` を `logger.error()` に渡した際に `code` と `details` が隠れてしまう問題を修正。
`Logger` が `Error` インスタンスを自動展開するようになり、エラーの原因が追跡しやすくなった。

## 変更内容

### 変更
- `src/messages/logger.ts` - `expandMeta()` を追加。`meta` の値が `Error` インスタンスの場合、`message`・`code`（`ATACError` のみ）・`details`（`ATACError` のみ）に展開してログ出力する
- `src/messages/errors.ts` - `ATACError.toString()` を改善。`code` と `details` を含む形式 `ATACError [CODE]: message {...}` に変更
- `src/bot/client.ts` - `COMMAND_EXECUTION_FAILED` / `BUTTON_EXECUTION_FAILED` の `error: String(error)` → `error: error` に変更
- `src/bot/listener.ts` - `LISTENER_EXECUTION_FAILED` の `error: String(error)` → `error: error` に変更
- `src/voice/recorder.ts` - `VOICE_RECORDING_FAILED` の `error: String(error)` → `error: error` に変更（2箇所）

### 変更なし（破壊的変更なし）

## ログ出力の変化

**Before:**
```
2026-02-18T18:59:14.731Z [ATAC:Listener] [ERROR] Listener execution failed { event: 'ready', error: 'ATACError: 起動時メッセージ同期に失敗しました' }
```

**After:**
```
2026-02-18T18:59:14.731Z [ATAC:Listener] [ERROR] Listener execution failed { event: 'ready', error: { message: '起動時メッセージ同期に失敗しました', code: 'MESSAGE_SYNC_FAILED', guild_id: '...', ... } }
```
